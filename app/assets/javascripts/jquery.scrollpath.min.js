(function(j,o,y,L){function P(a,b){function D(a,b){c=Math.min(a,c);g=Math.min(b,g);e=Math.max(a,e);f=Math.max(b,f)}var p=0,d=0,l=0,e=0,f=0,c=0,g=0,u=[{method:"moveTo",args:[0,0]}],s=[],m={},n={rotate:null,callback:null,name:null};this.rotate=function(a,D){var q=j.extend({},n,D),h=Math.abs(a-l),h=Math.round(h/b)*k,e=(a-l)/h,c=1;if(!G)return(q.name||q.callback)&&this.moveTo(p,d,{callback:q.callback,name:q.name}),this;for(;c<=h;c++)s.push({x:p,y:d,rotate:l+e*c,callback:c===h?q.callback:null});q.name&&
(m[q.name]=s.length-1);l=a%(2*Math.PI);return this};this.moveTo=function(a,b,q){var h=j.extend({},n,q),e=s.length?k:1;for(i=0;i<e;i++)s.push({x:a,y:b,rotate:null!==h.rotate?h.rotate:l,callback:i===e-1?h.callback:null});h.name&&(m[h.name]=s.length-1);p=a;d=b;D(a,b);u.push({method:"moveTo",args:arguments});return this};this.lineTo=function(b,e,q){for(var h=j.extend({},n,q),c=b-p,f=e-d,g=Math.sqrt(c*c+f*f),g=Math.round(g/a)*k,c=c/g,f=f/g,v=null!==h.rotate&&G,t=v?(h.rotate-l)/g:0,w=1;w<=g;w++)s.push({x:p+
c*w,y:d+f*w,rotate:l+t*w,callback:w===g?h.callback:null});h.name&&(m[h.name]=s.length-1);l=v?h.rotate:l;p=b;d=e;D(b,e);u.push({method:"lineTo",args:arguments});return this};this.arc=function(b,e,c,h,g,f,t){var v=j.extend({},n,t),y=b+Math.cos(h)*c,w=e+Math.sin(h)*c,A=b+Math.cos(g)*c,C=e+Math.sin(g)*c,x;var z=h;x=g;var o=f,E=H(z),r=H(x),B=Math.abs(E-r),F=2*Math.PI-B;x=o&&E<r||!o&&E>r||E===r&&z!==x?F:B;z=Math.round(c*x/a)*k;x=x/z*(f?-1:1);E=(o=null!==v.rotate&&G)?(v.rotate-l)/z:0;r=1;for((p!==y||d!==
w)&&this.lineTo(y,w);r<=z;r++)s.push({x:b+c*Math.cos(h+x*r),y:e+c*Math.sin(h+x*r),rotate:l+E*r,callback:r===z?v.callback:null});v.name&&(m[v.name]=s.length-1);l=o?v.rotate:l;p=A;d=C;D(b+c,e+c);D(b-c,e-c);u.push({method:"arc",args:arguments});return this};this.getPath=function(){return s};this.getNameMap=function(){return m};this.getCanvasPath=function(){for(var a=0;a<u.length;a++)u[a].args[0]-=this.getPathOffsetX(),u[a].args[1]-=this.getPathOffsetY();return u};this.getPathWidth=function(){return e-
c+40};this.getPathHeight=function(){return f-g+40};this.getPathOffsetX=function(){return c-20};this.getPathOffsetY=function(){return g-20}}function Q(){A.scrollBar&&(m=j("<div>").addClass("sp-scroll-bar").on("mousedown",function(a){var b=Math.round((a.offsetY||a.clientY)/m.height()*(d.length-1));Math.abs(b-e)>B&&(b=e+5*k*(b>e?1:-1));c(b);a.preventDefault();return!1}),C=j("<div>").addClass("sp-scroll-handle").on({click:function(a){a.preventDefault();return!1},mousedown:function(a){if(0===a.button)return I=
!0,a.preventDefault(),!1}}),j(y).on({mouseup:function(){I=!1},mousemove:function(a){if(I){var a=a.clientY-m.offset().top,a=Math.round(a/m.height()*(d.length-1)),b=d.length-1,a=a>b?b:0>a?0:a,b=a%k;c(b>k/2?a+k-b:a-b)}}}),j("body").prepend(m.append(C)))}function R(){if(A.drawPath&&S){var a;a={position:"absolute","z-index":9998,left:f.getPathOffsetX(),top:f.getPathOffsetY(),"pointer-events":"none"};a[n+"user-select"]=a["user-select"]="none";a[n+"user-drag"]=a["user-drag"]="none";a=j("<canvas>").addClass("sp-canvas").css(a).prependTo(F);
a[0].width=f.getPathWidth();a[0].height=f.getPathHeight();a=a[0].getContext("2d");var b=f.getCanvasPath(),c=0;a.shadowBlur=15;a.shadowColor="black";a.strokeStyle="white";a.lineJoin="round";a.lineCap="round";for(a.lineWidth=10;c<b.length;c++)a[b[c].method].apply(a,b[c].args);a.stroke()}}function M(a){var b=a.originalEvent.wheelDelta||-a.originalEvent.detail,b=b/Math.abs(b);a.preventDefault();j(o).scrollTop(0).scrollLeft(0);g(-b*k)}function T(a){if(!/^text/.test(a.target.type))switch(a.keyCode){case 40:g(k);
break;case 38:g(-k);break;case 34:g(B);break;case 33:g(-B);break;case 32:g(B*(a.shiftKey?-1:1));break;case 35:c(d.length-1);break;case 36:c(0)}}function g(a){c(N(e+a))}function U(a,b,d,p){if(!(0===a||t)){if(!b||"number"!==typeof b)return"function"===typeof b&&b(),g(a);t=!0;var f=b/1E3*V,l=e,k=0,m,n,o=setInterval(function(){m=Math.round((j.easing[d]||j.easing.swing)(++k/f,b/f*k,0,a,b));n=N(l+m);k===f&&(clearInterval(o),"function"===typeof d?d():p&&p(),t=!1);c(n,!0)},b/f)}}function c(a,b){if(!t||b){var c;
d[a]&&(c=d[a].callback,F.css(W(d[a])));C&&C.css("top",a/(d.length-1)*(m.height()-C.height())+"px");c&&a!==e&&!t&&c();e=a}}function N(a){if(A.wrapAround)if(t){for(;0>a;)a+=d.length;for(;a>=d.length;)a-=d.length}else 0>a&&(a=d.length-1),a>=d.length&&(a=0);else a=a>d.length-1?d.length-1:0>a?0:a;return a}function W(a){var b=a.x-j(o).width()/2,c=a.y-j(o).height()/2,d={};0===H(a.rotate)?(d.left=-b,d.top=-c,d[n+"transform-origin"]=d["transform-origin"]="",d[n+"transform"]=d.transform=""):(d.left=d.top="",
d[n+"transform-origin"]=d["transform-origin"]=a.x+"px "+a.y+"px",d[n+"transform"]=d.transform="translate("+-b+"px, "+-c+"px) rotate("+a.rotate+"rad)");return d}function H(a){for(;0>a;)a+=2*Math.PI;return a%(2*Math.PI)}var n="-"+function(){var a=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,b=y.getElementsByTagName("script")[0],c;for(c in b.style)if(a.test(c))return c.match(a)[0];return"WebkitOpacity"in b.style?"Webkit":"KhtmlOpacity"in b.style?"Khtml":""}().toLowerCase()+"-",G=function(){for(var a=y.createElement("dummy").style,
b="transform,WebkitTransform,MozTransform,OTransform,msTransform,KhtmlTransform".split(","),c=0;c<b.length;c++)if(a[b[c]]!==L)return!0;return!1}(),S=!!y.createElement("canvas").getContext,V=60,k=50,B=5*k,O=!1,I=!1,t=!1,e,f,d,F,m,C,J={scrollSpeed:50,rotationSpeed:Math.PI/15},A={wrapAround:!1,drawPath:!1,scrollBar:!0},K={init:function(a){(1<this.length||O)&&j.error("jQuery.scrollPath can only initialized on *one* element *once*");j.extend(A,a);O=!0;F=this;d=f.getPath();R();Q();c(0);F.css("position",
"relative");j(y).on({mousewheel:M,DOMMouseScroll:M,keydown:T,mousedown:function(a){if(1===a.button)return a.preventDefault(),!1}});j(o).on("resize",function(){c(e)});return this},getPath:function(a){j.extend(J,a);return f||(f=new P(J.scrollSpeed,J.rotationSpeed))},scrollTo:function(a,b,c,g){var k=f.getNameMap()[a];k===L&&j.error("jQuery.scrollPath could not find scroll target with name '"+a+"'");a=k-e;A.wrapAround&&Math.abs(a)>d.length/2&&(a=k>e?-e-d.length+k:d.length-e+k);U(a,b,c,g);return this}};
j.fn.scrollPath=function(a){if(K[a])return K[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return K.init.apply(this,arguments);j.error("Method "+a+" does not exist on jQuery.scrollPath")}})(jQuery,window,document);